<!DOCTYPE html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <title>P</title>
  <style>
  textarea{
    width: 800px;
    height: 200px;}
    div{
      display: table-caption;
    }
    button{
      border: none;
      padding: 10px;
      margin: 10px;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div id='A'>
    <textarea></textarea>
    <button id="button">Start</button>
    <button id="google">google</button>
  </div>
</body>
<script type="text/javascript">
     
  var feelling=['sad','happy'];
 $( document ).ready(function() {

   var speechMessage = new SpeechSynthesisUtterance();
   speechMessage.lang='en-US';
    speechMessage.text  = 'oh  you  look  '+feelling[1]+' Today  how  I  can  help  you';
    speechSynthesis.speak(speechMessage);
    
    speechMessage.onstart = function(event) {console.log(event);};
  if('webkitSpeechRecognition' in window){
    var speechRecognizer = new window.webkitSpeechRecognition();
    speechRecognizer.continuous = true;
    speechRecognizer.interimResults = true;
    speechRecognizer.lang = 'en-US';
    speechRecognizer.maxAlternatives = 1;
    
    $("#button").on('click',function(){
     // event.preventDefault();
     f();
    });

      function f(){
      $("#button").text('stop');
      speechRecognizer.start();
      speechRecognizer.onresult = function(event) { 
      for (var i = event.resultIndex; i < event.results.length; ++i) {   
            interimResults=event.results[i][0].transcript;
            x=$('textarea').val();
            console.log(event.results[i][0].transcript);
           if (event.results[i].isFinal) 
           { 
             console.log(event.results[i].transcript);

            if (compare2string(event.results[i][0].transcript,"I m looking for some food") )
            { 
            speechRecognizer.stop();
            speechSynthesis.speak(new SpeechSynthesisUtterance('go and  cook  some  food  for  your  self'));
            $("#button").text('start');
            }
            if (compare2string(event.results[i][0].transcript,"go to google"))
            {
             window.open("https://www.google.com/");
             break;
            } 
            if (compare2string(event.results[i][0].transcript,"I want to watch a movie"))
            {
            music();
            } 
            if (compare2string(event.results[i][0].transcript,"I want to eat something"))
            {
            food();
            }
            if (compare2string(event.results[i][0].transcript,"I want to go some where"))
            {
            travel();
            }  
           $('textarea').val(x+" "+interimResults);
           console.log("final results: " + event.results[i][0].transcript); 
         }
        }
      }
    } 
  }
function compare2string(x,y){
  if(x.toLowerCase().replace(/ /g,'').replace(/'/g,'')===y.toLowerCase().replace(/ /g,'').replace(/'/g,''))
  {
    return true;
  }
  else
  {
    return false;
  }
}
function food(){
    $("#A").append('<button id="google">food</button>');
}
function music(){
     $("#A").append('<button id="google">music</button>');
}
function movie(){
    $("#A").append('<button id="google">travel</button>');
}
});   
</script>
</html>